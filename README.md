### æ–°æ‰‹å¦‚ä½•åˆ©ç”¨ant design proå‰ç«¯å¼€å‘ä¸€ä¸ªæ–°é¡µé¢

###### ä»¥æ³¨å†Œé¡µé¢ä¸ºä¾‹å­ï¼š

###### 1.æŸ¥çœ‹å®˜æ–¹æ–‡æ¡£åˆå§‹å‘½ä»¤ï¼Œå¹¶æ–°å»ºä¸€ä¸ªé¡¹ç›®

æ ¹æ®ant design proå®˜æ–¹æ–‡æ¡£

```
https://pro.ant.design/zh-CN/docs/getting-started/
```

```
# ä½¿ç”¨ npm
npm i @ant-design/pro-cli -g
pro create myapp

? ğŸ‚ ä½¿ç”¨ umi@4 è¿˜æ˜¯ umi@3 ? (Use arrow keys)
â¯ umi@4
  umi@3
  
? ğŸš€ è¦å…¨é‡çš„è¿˜æ˜¯ä¸€ä¸ªç®€å•çš„è„šæ‰‹æ¶? (Use arrow keys)
â¯ simple
  complete
  
# å¼€å§‹å®‰è£…ä¾èµ–
$ cd myapp && npm install
```

è‡³æ­¤ï¼Œå‰ç«¯é¡¹ç›®åˆå§‹åŒ–å®Œæˆï¼



###### 2.å‰ç«¯é¡¹ç›®ç®€åŒ–

è¿™ä¸ªæ ¹æ®éœ€è¦ï¼Œè‡ªè¡Œç®€åŒ–ï¼Œè„šæ‰‹æ¶è‡ªèº«ä¹Ÿæä¾›äº†ä¸€äº›è„šæœ¬ï¼Œæ¯”å¦‚åœ¨package.jsoné‡Œ

```
"script": {
	...
	"i18n-remove": "pro i18n-remove --locale=zh-CN --write",
	...
}
```

è¿™ä¸ªè„šæœ¬å¸®åŠ©æˆ‘ä»¬ç§»å‡ºå›½é™…åŒ–ï¼Œå¦‚æœä¸æ¶‰åŠåˆ°ï¼Œä¸€èˆ¬å»ºè®®ç§»å‡ºï¼Œç„¶ååˆ é™¤localeæ–‡ä»¶å¤¹

...



###### 3.åˆ›å»ºä¸€ä¸ªæ–°çš„é¡µé¢

ä¸€èˆ¬ä¸ä¼šä»0å¼€å§‹æ‰‹å†™ï¼Œè¿™é‡Œç›´æ¥å¤åˆ¶Loginç»„ä»¶ï¼Œå°†æ–‡ä»¶å¤¹åæ”¹ä¸ºRegister

![image-20230211195340523](C:\Users\a\Desktop\md-Image\image-20230211195340523.png)

![image-20230211195631753](C:\Users\a\Desktop\md-Image\image-20230211195631753.png)

æ ¹æ®éœ€è¦ä¿®æ”¹htmlã€cssã€js

ï¼ˆå»ºè®®é¡ºåº=======>html===>css===>jsï¼‰

**æ³¨æ„ï¼š**

æœ‰æ—¶å€™ï¼Œæˆ‘ä»¬çš„é¡µé¢å¹¶ä¸éœ€è¦ç»è¿‡ç™»å½•è®¤è¯ï¼Œå¯¹äºå‰ç«¯æ¥è¯´ï¼Œéœ€è¦è¿›è¡Œç‰¹å®šçš„é…ç½®

![image-20230211202001574](C:\Users\a\Desktop\md-Image\image-20230211202001574.png)

è¿™é‡Œé€»è¾‘æ˜¯ï¼Œå¦‚æœä¸æ˜¯ç™»å½•é¡µï¼Œå°±ä¼šè¯·æ±‚åç«¯å½“å‰ç”¨æˆ·çš„ç”¨æˆ·æ€ï¼Œå¦‚æœè¿”å›å€¼ä¸ç¬¦åˆè§„åˆ™æˆ–å‡ºç°å¼‚å¸¸ä¼šé‡å®šå‘åˆ°ç™»å½•é¡µ

![image-20230211202337073](C:\Users\a\Desktop\md-Image\image-20230211202337073.png)

onPageChangeç›¸å½“äºant design proæä¾›çš„ç”Ÿå‘½å‘¨æœŸç‹—å­ï¼Œå½“å‰ç«¯çš„é¡µé¢å‘ç”Ÿæ”¹å˜æ—¶ï¼Œä¼šè§¦å‘è¿™é‡Œçš„é€»è¾‘ï¼Œè¿™é‡Œè¿˜æ˜¯è·³è½¬åˆ°ç™»å½•é¡µ

åŸºäºä¸Šè¿°æƒ…å†µï¼Œæˆ‘ä»¬å¯ä»¥é…ç½®ä¸€ä¸ªç™½åå•ï¼Œå½“é¡µé¢è·³è½¬æˆ–éªŒè¯æŸä¸ªé¡µé¢æ—¶ï¼Œä¸éœ€è¦è¿›è¡Œè®¤è¯ï¼ˆæ¯”å¦‚æ³¨å†Œï¼‰

```
åˆšè¿›å…¥é¡µé¢æ—¶ï¼Œåœ¨æˆ‘ä»¬çš„å…¥å£æ–‡ä»¶app.tsxæœ‰ä¸¤ä¸ªé€»è¾‘ï¼š
1ã€åˆ¤æ–­æ˜¯å¦ä¸ºç™»å½•è·¯ç”±ï¼Œå¦‚æœä¸æ˜¯ä¼šå»è°ƒç”¨ç”¨æˆ·ä¿¡æ¯æ¥å£ï¼Œè°ƒç”¨å‘ç”Ÿé”™è¯¯ä¼šé‡å®šå‘åˆ°ç™»å½•é¡µ

2ã€æ”¹å˜é¡µé¢æ—¶ï¼Œä¼šè§¦å‘onPageChangeé’©å­ï¼Œä¼šåˆ¤æ–­æ˜¯å¦æ˜¯ç™»å½•é¡µå’Œæ˜¯å¦æœ‰ç”¨æˆ·çš„ç™»å½•ä¿¡æ¯ï¼Œä¸æ»¡è¶³è§„åˆ™ä¼šé‡å®šå‘åˆ°ç™»å½•é¡µ

// ä»¥ä¸‹é…ç½®åœ¨å…¥å£æ–‡ä»¶app.tsx
import {history} from 'umi';

const LOGIN_ROUTE = '/user/login';
const REGISTER_ROUTE = '/user/register';
const WRITE_LIST = [LOGIN_ROUTE, REGISTER_ROUTE];

const current_path = history.


...
if (!writeList.includes(history.location.pathname)
{
	// TODOä¸æ˜¯ç™½åå•éœ€è¦æ‰§è¡Œçš„é€»è¾‘
}

...
```



###### 4.é…ç½®è·¯ç”±

![image-20230211201224587](C:\Users\a\Desktop\md-Image\image-20230211201224587.png)

åœ¨routers.tsæ–‡ä»¶ä¸­é…ç½®å¥½æ³¨å†Œé¡µé¢çš„è·¯ç”±

**æ³¨æ„ï¼š**

æœ‰æ—¶å€™æˆ‘ä»¬çš„ç»„ä»¶æ˜¯åµŒå…¥åˆ°å¦ä¸€ä¸ªçˆ¶ç»„ä»¶é‡Œçš„ï¼Œæˆ‘ä»¬éœ€è¦åœ¨çˆ¶ç»„ä»¶ä½œä¸€äº›é…ç½®ï¼Œæ¯”å¦‚Admin.tsxï¼š

```
const Admin: React.FC = (props) => {
  const {children} = props;
  return (
    <PageHeaderWrapper>
      {children}
    </PageHeaderWrapper>
  );
};

export default Admin;
```

ä»ç»„ä»¶å‡½æ•°çš„å…¥å‚é‡Œæ‹¿åˆ°propsï¼Œè·å¾—å­ç»„ä»¶å¯¹è±¡ï¼Œæ”¾åˆ°returné‡Œ



###### 5.å¼•å…¥ç»„ä»¶ï¼š

è¿™æ—¶æˆ‘ä»¬éœ€è¦registerçš„ç»„ä»¶ï¼š

![image-20230212000608139](C:\Users\a\Desktop\md-Image\image-20230212000608139.png)

æœ‰æ—¶å€™æ‰¾ä¸åˆ°å¤´ç»ªï¼Œå¯ä»¥å°è¯•çœ‹ä¸‹æºç ï¼Œtsæ˜¯å®ƒå®šä¹‰çš„ç±»å‹ï¼Œæˆ‘ä»¬å»jsé‡ŒæŸ¥çœ‹

![image-20230212000731880](C:\Users\a\Desktop\md-Image\image-20230212000731880.png)

æˆ‘ä»¬å¯ä»¥æŠŠant design proå°è£…çš„LoginFormç»„ä»¶æ”¹å†™ä¸ºæˆ‘ä»¬çš„æ³¨å†Œç»„ä»¶ï¼Œä½†æ˜¯æŒ‰é’®æ˜¯ç™»å½•ï¼Œæˆ‘ä»¬éœ€è¦æ”¹å†™ä¸º  â€œæ³¨å†Œâ€ï¼Œç¿»é˜…å®˜æ–¹æ–‡æ¡£å’Œç™¾åº¦éƒ½å·®ä¸å¤šæ—¶ï¼Œéƒ¨åˆ†ç®€å•çœ‹ä¸‹æºç ï¼ˆç‚¹è¿›å»æœç´¢â€œç™»å½•â€ï¼‰ï¼Œæœ€åå‘ç°äº†è¿™ä¸ªå¯¹è±¡å¯ä»¥æ”¹æŒ‰é’®åå­—

```
<ProFormText.Password
                name="checkPassword"
                fieldProps={{
                  size: 'large',
                  prefix: <LockOutlined className={styles.prefixIcon}/>,
                }}
                placeholder="è¯·è¾“å…¥ç¡®è®¤å¯†ç "
                rules={[
                  {
                    required: true,
                    message: "å¯†ç æ˜¯å¿…å¡«é¡¹",
                  },
                  {
                    min: 8,
                    type: "string",
                    message: "å¯†ç è‡³å°‘å…«ä½"
                  }
                ]}
              />
```

å½“æˆ‘ä»¬æäº¤åï¼Œæ¡†æ¶ä¼šå°†nameå’Œkeyæ”¾åˆ°ä¸€ä¸ªå¯¹è±¡é‡Œ

![image-20230212001428540](C:\Users\a\Desktop\md-Image\image-20230212001428540.png)

åœ¨tsä¸­å®šä¹‰ä¸€ä¸ªå˜é‡ï¼Œï¼Ÿè¡¨ç¤ºè¿™ä¸ªå±æ€§å¯ä»¥ä¸å­˜åœ¨ï¼Œä¸æ˜¯å¿…é€‰çš„

è¿™ä¸ªå˜é‡å®šä¹‰çš„ç›®çš„ï¼Œç›¸å½“äºç»™jsçš„å˜é‡åšä¸€ä¸ªçº¦æŸï¼Œä¸€ä¸ªè§„èŒƒ



![image-20230212003440780](C:\Users\a\Desktop\md-Image\image-20230212003440780.png)

è¿™ä¸ªç›¸å½“äº  xxx?redirect=/aaa

å½“æˆ‘ä»¬ç™»å½•æˆåŠŸåï¼Œä¼šè·³è½¬åˆ°è¿™é‡Œ



ctrl+oå¯ä»¥å»æ‰æœªç”¨åˆ°çš„å¼•ç”¨

```
history.push({
          pathname: '/user/login',
          query
        })
```

pushé™¤äº†ä¼ ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œä¹Ÿå¯ä»¥æ”¯æŒè¿™ç§



![image-20230212111256773](C:\Users\a\Desktop\md-Image\image-20230212111256773.png)

åŠ ä¸€ä¸ªpæ ‡ç­¾ï¼Œæ®µè½æœ‰è‡ªåŠ¨æ¢è¡Œçš„æ•ˆæœ

Linkæ ‡ç­¾ä¸­çš„toä¸€èˆ¬ç”¨äºè·³è½¬åˆ°ç«™å†…æŸä¸ªé¡µé¢

hrefä¸€èˆ¬ç”¨äºç«™å¤–

![image-20230212111956004](C:\Users\a\Desktop\md-Image\image-20230212111956004.png)

è¿˜æ˜¯æ”¾åˆ°è‡ªåŠ¨ç™»å½•æ—è¾¹ï¼Œæ”¾ä¸€ä¸ªåˆ†éš”æ ï¼Œå‚ç›´åˆ†å‰²

![image-20230212113937454](C:\Users\a\Desktop\md-Image\image-20230212113937454.png)

åšä¸ªç»„ä»¶è¿›è¡Œåˆ†å‰²

![image-20230212122506760](C:\Users\a\Desktop\md-Image\image-20230212122506760.png)

åŠ ä¸ªæ°´å°



![image-20230212145255984](C:\Users\a\Desktop\md-Image\image-20230212145255984.png)

access.tsxæ˜¯proä¸“é—¨ç”¨æ¥æ§åˆ¶ç®¡ç†å‘˜æƒé™çš„



![image-20230212151147277](C:\Users\a\Desktop\md-Image\image-20230212151147277.png)



###### 6.ProComponentsé«˜çº§è¡¨å•

æ‰¾å…¶ä»–ç»„ä»¶å®˜ç½‘åœ°å€ï¼š

```
https://procomponents.ant.design/components
```



1. é€šè¿‡columnså®šä¹‰è¡¨æ ¼æœ‰å“ªäº›åˆ—
2. columnså±æ€§
   - dataIndexå¯¹è±¡è¿”å›å¯¹è±¡çš„å±æ€§
   - titleè¡¨æ ¼åˆ—å
   - copyableæ˜¯å¦å…è®¸å¤åˆ¶ 
   - ellipsosæ˜¯å¦å…è®¸ç¼©ç•¥
   - valueTypeç”³æ˜è¿™ä¸€åˆ—çš„ç±»å‹
   - searchç”¨æ¥å®šåˆ¶è¯¥å­—æ®µåœ¨è¡¨å•ä¸Šçš„æŸ¥è¯¢ï¼Œå¦‚æœä¸ºfalseåˆ™å…³é—­åœ¨è¡¨å•ä¸Šçš„æŸ¥è¯¢

![image-20230212173742622](C:\Users\a\Desktop\md-Image\image-20230212173742622.png)

æ¯è¡Œçš„å€¼é»˜è®¤æ˜¯ä»¥å­—ç¬¦ä¸²çš„å½¢å¼æ¸²æŸ“çš„ï¼Œé€šè¿‡randerå‡½æ•°å¯ä»¥æ”¹å˜

```
{
    title: 'å¤´åƒ',
    dataIndex: 'avatarUrl',
    render: (_, record) => (
      <div>
        <Image src={record.avatarUrl} width={100} />
      </div>
    ),
  },
```

recordä»£è¡¨è¿™ä¸€è¡Œçš„æ•°æ®

Imageæ˜¯ant designä¸­çš„ä¸€ä¸ªç»„ä»¶

```
{
    title: 'è§’è‰²',
    dataIndex: 'userRole',
    valueType: 'select',
    valueEnum: {
      0: { text: 'æ™®é€šç”¨æˆ·', status: 'Default' },
      1: {
        text: 'ç®¡ç†å‘˜',
        status: 'Success',
      },
    },
  },
```

è¿™æ˜¯ä¸€ç§selectç±»å‹ï¼Œæ”¯æŒæšä¸¾å€¼æ˜ å°„



```
 {
    title: 'åˆ›å»ºæ—¶é—´',
    dataIndex: 'createTime',
    copyable: true,
    valueType: 'dateRange',
    hideInTable: true,
    search: {
      transform: (value) => {
        return {
          startTime: value[0],
          endTime: value[1],
        };
      },
    }
  },
  
  {
    title: 'åˆ›å»ºæ—¶é—´',
    dataIndex: 'createTime',
    valueType: 'date',
    search: false,
  },
```

è¿™ä¸ªè¡¨æ ¼ä¸­çš„æ—¶é—´ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡é€‰æ‹©ä¸€ä¸ªæ—¶é—´èŒƒå›´æ¥è¿›è¡Œç­›é€‰

ä¸‹é¢ä¸ªæ—¶é—´åˆ™æ˜¯ç”¨æ¥åœ¨è¡¨æ ¼ä¸­å±•ç¤º



###### 7ã€tipï¼š

```
æ”¹å†™ç»„ä»¶åå­—

ctrl+shift+ræ›¿æ¢å…³é”®å­—

ctrl+alt+lå¿«é€Ÿæ ¼å¼åŒ–

shift+f6æ›¿æ¢ä¸ä¹‹å…³è”çš„å…³é”®å­—

ctrl+rèŒƒå›´é€‰æ‹©æ›¿æ¢

stateå°±æ˜¯ç»„ä»¶é‡Œå­˜çš„ä¸€äº›å˜é‡ï¼Œå½“å˜é‡å‘ç”Ÿå˜åŒ–æ—¶ï¼Œé¡µé¢ä¼šé‡æ–°æ¸²æŸ“

MFSU:å‰ç«¯ç¼–è¯‘ä¼˜åŒ–

Ant Designç»„ä»¶åº“=>React

Ant Design Procomponents=>Ant Design

ProcomponentsæŠŠä¸€äº›å¸¸ç”¨çš„ç»„ä»¶è¿›è¡Œäº†ç»„åˆï¼Œæ¯”å¦‚ç™»å½•è¡¨å•ï¼Œè¿›è¡Œäº†è¿›ä¸€æ­¥å°è£…ï¼Œå’Œä¸šåŠ¡çš„å…³ç³»æ›´ç´§å¯†ä¸€äº›ï¼Œä¹Ÿå¯ä»¥ç†è§£ä¸ºä¸€ç§ä¸šåŠ¡ç»„ä»¶ï¼Œæ›´åŠ å®šåˆ¶åŒ–

Ant Design Proæ˜¯ä¸€ä¸ªåå°ç®¡ç†ç³»ç»Ÿ=>Ant Designã€Ant Design Procomponentsã€reactå’Œå…¶ä»–åº“ç»„åˆè€Œæˆ
```



###### 8ã€æ•ˆæœå±•ç¤º

![image-20230213164456076](C:\Users\a\Desktop\md-Image\image-20230213164456076.png)

![image-20230213164614740](C:\Users\a\Desktop\md-Image\image-20230213164614740.png)
